# --- Configuración de Construcción ---
# Le dice a Netlify cómo construir tu app de Angular
[build]
  # El comando que corre (el de tu package.json)
  command = "npm run build"
  
  # La carpeta que debe servir (la que genera "ng build")
  # ¡Asegúrate de que esta ruta sea correcta!
  publish = "dist/logic-games-ui/browser"

# --- ¡LA REGLA MÁGICA "ANTI-CORS"! ---
[[redirects]]
  # "from": Si el navegador pide cualquier cosa que empiece con "/api/"...
  from = "/api/*"
  
  # "to": ...redirígelo secretamente a tu backend de Render.
  # El ":splat" al final es un comodín que pasa el resto de la URL
  # (ej. /api/sudoku/load -> https://.../api/sudoku/load)
  to = "https://logicgames-backend.onrender.com/api/:splat"
  
  # "status": ¡Este es el truco! Devuelve un "200" (OK) en lugar de
  # un "301" (Redirección). Esto lo convierte en un "proxy" y
  # engaña al navegador para que piense que el frontend y el backend
  # viven en el mismo dominio. ¡Adiós a los errores de CORS!
  status = 200
