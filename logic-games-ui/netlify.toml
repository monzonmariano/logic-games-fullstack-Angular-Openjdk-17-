# --- Configuración de Construcción ---
# Le dice a Netlify cómo construir tu app de Angular
[build]
  command = "npm run build"
  publish = "dist/logic-games-ui/browser"

# --- REGLA 1: Proxy Inverso para API (Anti-CORS) ---
[[redirects]]
  # Redirige /api/* a tu backend de Render
  from = "/api/*"
  to = "https://logicgames-backend.onrender.com/api/:splat"
  # Mantiene el status 200 para evitar errores de CORS
  status = 200

# --- REGLA 2: Redirección de Single Page Application (SPA) ---
# ¡ESTA ES LA REGLA QUE FALTABA!
[[redirects]]
  # "from": Coincide con cualquier ruta (cualquier cosa que no haya coincidido arriba)
  from = "/*"
  
  # "to": Servir siempre el archivo principal de Angular
  to = "/index.html"
  
  # "status": Mantiene la URL en el navegador
  status = 200
